---
title: Power BI visual scanner API
description: Learn how to use the report generated by the scanner API to receive metadata about a Power BI visual.
author: mberdugo
ms.author: monaberdugo
ms.reviewer: gennadyl
manager: kfollis
ms.service: powerbi
ms.subservice: powerbi-custom-visuals
ms.topic: concept-article
ms.date: 09/25/2024
#customer intent: As a Power BI visual developer, I want to learn how to use the scanner API to receive metadata about a Power BI visual so that I can better understand the visual and its usage.
---

# Scanner API

If the scanner API is invoked with URI parameter reportObjects set to true, the reports section in the output will contain information about the visuals used in each report.

Link to original documentation: Scanner Docs

## Scanner output example 

Below is an example of the reports section:

```json
  "reports": [ 
    { 
      "reportType": "PowerBIReport", 
      "id": "a901f1d6-0848-428a-80c0-98311dc1679b", 
      "name": "ContosoSales", 
      "datasetId": "2f9bf0f9-b840-4376-a60a-47a6ae07c775", 
      "createdDateTime": "2024-07-02T09:28:03.077", 
      "modifiedDateTime": "2024-07-02T09:32:37.63", 
      "modifiedBy": "adminem3@PBIEmbedTestE3.ccsctp.net", 
      "createdBy": "adminem3@PBIEmbedTestE3.ccsctp.net", 
      "modifiedById": "d1814d1d-a355-40b1-8d86-0101ae965820", 
      "createdById": "d1814d1d-a355-40b1-8d86-0101ae965820", 
      "sensitivityLabel": { 
        "labelId": "cebb6849-d26a-4cfa-8f15-030e9d5d9a65" 
      }, 
      "users": [ 
        { 
          "reportUserAccessRight": "Owner", 
          "emailAddress": "adminem3@PBIEmbedTestE3.ccsctp.net", 
          "displayName": "Admin EM3", 
          "identifier": "adminem3@PBIEmbedTestE3.ccsctp.net", 
          "graphId": "d1814d1d-a355-40b1-8d86-0101ae965820", 
          "principalType": "User", 
          "userType": "Member" 
        } 
      ], 
      "sections": [ 
        { 
          "displayName": "Page 2", 
          "visuals": [ 
            { 
              "visualGuid": "clusteredBarChart" 
            } 
          ] 
        }, 
        { 
          "displayName": "Page 1", 
          "visuals": [ 
            { 
              "visualGuid": "Sunburst1445472000808" 
            }, 
            { 
              "visualGuid": "WordCloud1447959067750" 
            } 
          ] 
        } 
      ] 
    } 
  ]
 ```

As you can see, the reports section contains a sections list. Each section contains the section name and list of visuals, or, more precisely, their GUIDs:

```json
  "sections": [ 
    { 
      "displayName": "Page 1", 
      "visuals": [ 
        { 
          "visualGuid": "Sunburst1445472000808" 
        }, 
        { 
          "visualGuid": "WordCloud1447959067750" 
        } 
      ] 
    } 
  ] 
```

To get information about a visual, (for example, its name, whether it’s a core visual, public custom visual or private visual, if it’s certified, etc.) check the visual GUID with multiple data sources and enrich visual data based on information you find.

## Core visuals

Below is list of GUIDs of Core (build-in) Visuals, this visuals build-in inside Power BI:

```json
"actionButton" 
"animatedNumber" 
"areaChart" 
"barChart" 
"basicShape" 
"shape" 
"card" 
"cardVisual" 
"multiRowCard" 
"clusteredBarChart" 
"clusteredColumnChart" 
"columnChart" 
"donutChart" 
"funnel" 
"gauge" 
"hundredPercentStackedBarChart" 
"hundredPercentStackedColumnChart" 
"image" 
"lineChart" 
"lineStackedColumnComboChart" 
"lineClusteredColumnComboChart" 
"map" 
"filledMap" 
"azureMap" 
"ribbonChart" 
"shapeMap" 
"treemap" 
"pieChart" 
"realTimeLineChart" 
"scatterChart" 
"stackedAreaChart" 
"table" 
"matrix" 
"tableEx" 
"pivotTable" 
"accessibleTable" 
"slicer" 
"advancedSlicerVisual" 
"pageNavigator" 
"bookmarkNavigator" 
"filterSlicer" 
"textbox" 
"aiNarratives" 
"waterfallChart" 
"scriptVisual" 
"pythonVisual" 
"kpi" 
"keyDriversVisual" 
"decompositionTreeVisual" 
"qnaVisual" 
"scorecard" 
"rdlVisual" 
"dataQueryVisual" 
"debugVisual" 
"heatMap"
```

If the visual GUID is one of core visuals, there is no need to look for it in other data sources, like AppSource catalog.

## AppSource (public) custom visuals

AppSource visuals are public Custom Visuals available from [Microsoft AppSource](https://appsource.microsoft.com/marketplace/apps?product=power-bi-visuals). You can fetch visual information from the public [catalog endpoint](https://catalogapi.azure.com/offers?storefront=appsource&api-version=2018-08-01-beta&$filter=offertype+eq+%27PowerBIVisuals%27) that AppSource provides.

The resulting json contains a list of items and a link to the next page, `nextPageLink`. For example:

```json
{ 
  "items": [ 
     { 
} 
  ], 
  "nextPageLink": https://catalogapi.azure.com/offers?storefront=appsource&api-version=2018-08-01-beta&$filter=offertype+eq+%27PowerBIVisuals%27&$skiptoken=W3sidG9rZW4iOiIrUklEOn4yVk53QUxkRkVIeHNhQUFBQUFCQUNBPT0jUlQ6MSNUUkM6MTg1I0lTVjoyI0lFTzo2NTU2NyNRQ0Y6OCIsInJhbmdlIjp7Im1pbiI6IjA1QzFFNzBCM0IzOTUwIiwibWF4IjoiMDVDMUU3QUIxN0U3QTYifX1d 
} 
```

Typically, a full list of visuals is is about 3-4 pages, and you must fetch them all.

Each item in the items list is a custom visual and contains all the information stored about it in AppSource. In this document we provide only relevant fields:

```json


"powerBIVisualId": "visualGUID", 

"displayName": "Mapbox Custom Visual", 

"publisherDisplayName": "OKVIZ Corp.", 

"enrichedData": { 

  "tags": [ 

    "PowerBICertified" 

  ], 

}, 

"categoryIds": [ 

  "pbiv-other", 

  "PowerBICertified" 

], 

"id": "xviz.inforiver-charts" 
```

The following fields can be used to enhance information about a visual provided by Scanner API:

* "powerBIVisualId": used to find correct item, which should be the same as "visualGuid" from Scanner output

* "displayName": visual name

* Tag “PowerBICertified” means that visual is Certified

* "publisherDisplayName": publisher name

* "id" is used to calculate PDP link page: `https://appsource.microsoft.com/<locale> /product/PowerBIVisuals/<id>`

Private (from file) Custom Visuals

 This kind of visuals added to Power BI report using “Import a visual from a file” option. If a visual is not a core visual and not an AppSource visual, it’s a private visual. For private visuals, we provide only their GUIDs.

## Organization visuals

Both AppSource visuals and Private visuals can be added to the Organization’s visuals store which exists for each organization (tenant). If a private custom visual is added to an organization’s visual store, the suffix _OrgStore is added to its GUID. In contrast, when an AppSource visual is added directly to an organization’s visual store, it keeps its original GUID.

The following process describes how to decide if a public custom visual belongs to org store visuals:

Enrich the visual’s information using information from the AppSource catalog (see above).  

Download the organization’s visuals list (in csv format) from Power BI -> Admin Portal -> Organization Visuals -> Export:

Check if the visual’s GUID appears in the list you just downloaded. If it does, this visual is an org visual. In this case, update visual name, to make it the same as the one in the CSV file.

> [!NOTE]
>
> There is no difference between an AppSource custom visual and its counterpart in the organization store, including its code and version. The only difference might be in the visual name.
> If the tenant admin downloads a custom visual *.pbiviz* file from AppSource and adds it to the organization store using Add Visual -> From File, the suffix *_OrgStore* is added and when exported, it will appear as a *Private file*. A private file visual doesn't get upgraded and is treated as a private visual in the Org Store.

Demo application to use Scanner API

Original code:

`https://github.com/microsoft/Fabric-metadata-scanning`

Updated code includes visual info enrichment:
`https://github.com/gennadylaventman/Fabric-metadata-scanning/tree/dev/glaventman/enrichCV`
